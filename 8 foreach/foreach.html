<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Foreach i JS</title>
        <style>
            body {
                background-color: lightblue;
            }

            .grid {
                display: grid;
                grid-template-columns: repeat(4, 100px);
                grid-auto-rows: 100px;
                width: fit-content;
                margin: auto;
            }

            .grid > div {
                border: 1px solid black;
                background-color: white;
            }
        </style>
    </head>

    <body>
        <h1>ForEach - Gå igjennom mange elementer</h1>

        <div class="grid">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>

        <script>
            // Hent ALLE divene:
            const divElementer = document.querySelectorAll(".grid > div")
            console.log(divElementer)
            // Dette går ikke: divElementer.style.color = "green"
            // Vi kan IKKE style hele lista

            // "gamle måten" å iterere gjennom en liste på:
            /*
            for (let divElement of divElementer) {
                // console.log(divElement)
                // Legg til en eventListener på alle rutene:
                divElement.addEventListener("click", skiftFarge)
            }
        */
            // Man kan også gjøre det med en for-løkke
            // for (let i = 0; i < divElementer.length; i++) {
            //     divElementer[i].addEventListener("click", skiftFarge)
            //  }
            // Vi kan også gjøre det med foreach:
            divElementer.forEach((divElement) => {
                divElement.addEventListener("click", skiftFarge)
            })

            function skiftFarge(event) {
                // console.log(event)
                let farge = "green"
                if (event.altKey && event.shiftKey) {
                    farge = "black"
                } else if (event.altKey) {
                    farge = "red"
                } else if (event.shiftKey) {
                    farge = "blue"
                }

                // Hvis den allerede har den fargen: Skift til hvit (ta bort fargen)
                if (event.target.style.backgroundColor == farge) {
                    farge = ""
                }

                event.target.style.backgroundColor = farge

                // TODO: Hvis ctrl-tasten er "true": Legg på et backgroundImage
            }
        </script>
    </body>
</html>
